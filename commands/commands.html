<!Doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>git常用命令</title>
  <link rel="stylesheet" href="css/main.css" />
</head>

<body>	
  <!-- 弹出新窗口显示链接内容 -->
  <!-- <h3>(1) <a href="images/1.git-init.PNG" target="_blank">git init</a> - 初始化git仓库</h3> -->
  <h3>(1) <a href="images/1.git-init.PNG"><em>git init</em></a> - 初始化 git 仓库</h3>
  <p>在执行完<code>git init</code>命令后，会在当前仓库下生成一个 .git 目录，其他目录保持不变。</p>
  <h4>使用方法</h4>
  <p><code>git init &lt;newrepo&gt;</code> - 初始化后，会在 newrepo 目录下会生成一个名为 .git 的目录。</p>
  <hr>
  
  <h3>(2) <a href="images/2.git-clone.PNG"><em>git clone</em></a> - 从现有 git 仓库中拷贝项目（类似 <b>svn checkout</b>）</h3>
  <h4>使用方法</h4>
  <code>git clone &lt;repo&gt; &lt;directory&gt;</code>
  <p><b>参数说明：</b></p>
  <ul>
    <li><b>repo：</b>原仓库的 url。</li>
    <li><b>directory：</b>目标仓库的 url（可省略）。</li>
  </ul>
  <hr>
  
  <h3>(3) <a href="images/3.git-status.PNG"><em>git status</em></a> - 查看上次提交之后是否有修改</h3>
  <h4>典型使用：</h4>
  <p><code>git status -sb</code> - 查看简短修改信息 + 当前所在分支。</p>
  <hr>
  
  <h3>(4) <a href="images/4.git-add.PNG"><em>git add</em></a> - 将指定文件由工作区添加到暂存区（类似 <b>svn add</b>）</h3>
  <h4>使用方法：</h4>
  <p><code>git status &lt;file1&gt; &lt;file2&gt; ...</code> - file1、file2 可使用通配符。</p>
  <h4>注意：</h4>
  <p>与<code>svn add</code>不同的是，无论是否新增文件，只要有修改，就必须执行<code>git add</code>将文件添加到暂存区，然后才能<code>git commit</code>到仓库。</p>
  <hr>
  
  <h3>(5) <a href="images/5.git-commit.PNG"><em>git commit</em></a> - 将暂存区内容添加到仓库中（类似 <b>svn commit</b>）</h3>
  <h4>典型使用：</h4>
  <p><code>git commit -m &lt;message&gt;</code> - message 表示本次提交的修改说明。</p>
  <hr>
  
  <h3>(6) <a href="images/6.git-log.PNG"><em>git log</em></a> - 查看提交历史（类似 <b>svn log</b>）</h3>
  <h4>典型使用：</h4>
  <p><code>git log --oneline</code> - 一行显示一次提交。</p>
  <hr>
  
  <h3>(7) git reset - 版本回退</h3>
  <h4>典型使用：</h4>
  <p><code>git reset --hard &lt;hash_code&gt;</code> - 回退仓库到指定的版本，<b>丢弃仓库当前修改（新增文件除外）</b>。<em><a href="images/7.git-reset-1.PNG">例1</a>，<a href="images/7.git-reset-2.PNG">例2</a></em></p>
  <p><code>git reset &lt;hash_code&gt;</code> - 回退仓库到指定的版本，<b>不丢弃仓库当前修改，上个版本提交的修改回退到工作区</b>。<a href="images/7.git-reset-3.PNG"><em>例3</em></a><p>
  <p><code>git reset --keep &lt;hash_code&gt;</code> - 回退仓库到指定的版本，<b>不丢弃仓库当前修改，丢弃上个版本提交的修改</b>。<a href="images/7.git-reset-4.PNG"><em>例4</em></a><p>
  <hr>
  
  <h3>(8) <a href="images/8.git-reflog.PNG"><em>git reflog</em></a> - 查看所有版本提交历史</h3>
  <h4>典型使用：</h4>
  <p>通过<code>git reset</code> - 回退版本后，该版本之后的提交无法通过<code>git log</code>查到。如果想要撤销回退，可以通过该指令查找对应的哈希，然后执行<code>git reset</code>进行回退。</p>
  <hr>
  
  <h3>(9) git checkout - 撤销修改/创建 or 切换分支</h3>
  <h4>典型使用：</h4>
  <p><code>git checkout -- &lt;file&gt;</code> - 撤销工作区 file 文件的修改，回退到暂存区/版本库中的版本。<em><a href="images/9.git-checkout-1.PNG">例1</a>，<a href="images/9.git-checkout-2.PNG">例2</a></em></p>
  <p><code>git checkout &lt;branch_name&gt;</code> - 切换分支。</p>
  <p><code>git checkout -b &lt;branch_name&gt;</code> - 创建 + 切换分支。<a href="images/9.git-checkout-3.PNG"><em>例3</em></a></p>
  <p><code>git checkout -b &lt;branch_name&gt; &lt;hash_code&gt;</code> - 创建 + 切换分支（从指定的提交分支）。<a href="images/9.git-checkout-4.PNG"><em>例4</em></a></p>
  <hr>
  
  <h3>(10) <a href="images/10.git-branch.PNG"><em>git branch</em></a> - 查看/创建/删除分支</h3></em>
  <h4>典型使用：</h4>
  <p><code>git branch</code> - 查看所有分支。</p>
  <p><code>git branch &lt;branch_name&gt;</code> - 创建分支（但不会切换到新分支）。</p>
  <p><code>git branch -d &lt;branch_name&gt;</code> - 删除已合并的分支。</p>
  <p><code>git branch -D &lt;branch_name&gt;</code> - <a href="images/10.git-branch-D.PNG">删除未合并的分支</a>。</p>
  <hr>
  
  <h3>(11) <a href="images/11.git-tag.PNG"><em>git tag</em></a> - 创建/删除标签</h3>
  <h4>典型使用：</h4>
  <p><code>git tag</code> - 查看所有标签(<strong>标签不是按时间顺序列出，而是按字母排序的</strong>)。</p>
  <p><code>git show &lt;tag_name&gt;</code> - 查看标签指定版本的提交信息。<a href="images/11.git-tag-show.PNG"><em>例1</em></a></p>
  <p><code>git tag -a &lt;tag_name&gt; -m &lt;commit_info&gt;</code> - [创建+]指定标签信息。</p>
  <p><code>git tag -n &lt;tag_name&gt;</code> - 查看标签信息。</p>
  <p><code>git tag -d &lt;tag_name&gt;</code> - 删除指定的本地标签。</p>
  <p><code>git tag -d $(git tag -l)</code> - 删除所有本地标签。<a href="images/11.git-delete-all-tags.PNG"><em>例2</em></a></p>
  <p><b>标签的综合操作：</b><em>
    <a href="images/11.git-delete-all-local-tags.PNG">删除所有本地标签</a> <code>-></code>
    <a href="images/11.git-pull-remote-tags.PNG">拉取远程标签</a> <code>-></code>
    <a href="images/11.git-delete-all-remote-tags.PNG">删除所有远程标签</a> <code>-></code>
    <a href="images/11.git-delete-some-local-tags.PNG">批量删除本地标签</a> <code>。</code>
  </em></p>
  <hr>
  
  <h3>(12) <a href="images/12.git-remote.PNG"><em>git remote</em></a> - 关联/解除关联远程仓库</h3>
  <h4>典型使用：</h4>
  <p><code>git remote -v</code> - 查看关联的远程仓库。</p>
  <p><code>git remote add origin &lt;remote_repo_url&gt;</code> - 本地仓库关联远程仓库 origin。</p>
  <p><code>git remote rm &lt;remote_name&gt;</code> - 删除指定的远程仓库的关联。</p>
  <hr>
  
  <h3>(13) git push - 向远程仓库推送修改</h3>
  <h4>典型使用：</h4>
  <p><code>git push origin &lt;name&gt;</code> - 推送当前分支、标签到远程仓库。<a href="images/13.git-push-branch.PNG"><em>例1</em></a>，<a href="images/13.git-push-tag.PNG"><em>例2</em></a></p>
  <p><code>git push -u origin &lt;branch_name&gt;</code> - 将本地的 branch_name 分支推送到远程仓库 origin 的对应分支，同时指定 origin 为默认远程仓库，后面就可以使用<code>git push</code>推送分支修改到远程库了。<a href="images/13.git-push-u.PNG"><em>例3</em></a></p>
  <p><code>git push -d origin &lt;name&gt;</code> - 删除远程分支、标签。<a href="images/13.git-push-delete-branch.PNG"><em>例4</em></a>，<a href="images/13.git-push-delete-tag.PNG"><em>例5</em></a></p>
  <p><code>git push origin :&lt;name&gt;</code> - 删除远程分支、标签。<a href="images/13.git-push-empty-delete-branch.PNG"><em>例6</em></a>，<a href="images/13.git-push-empty-delete-tag.PNG"><em>例7</em></a></p>
  <hr>
  
  <h3>(14) git merge - 合并分支</h3>
  <h4>典型使用：</h4>
  <p><code>git merge &lt;branch_name&gt;</code> - 合并 branch_name 分支到当前分支。如果当前分支相对 branch_name 分支没有提交，使用 fast-forward 方式合并。<a href="images/14-1.git-br-ff-merge.png"><em>例1</em></a></p>
  <p><code>git merge &lt;branch_name&gt; --no-ff -m &lt;message&gt;</code> - 禁用 fast-forward，合并 branch_name 分支到当前分支，并重新 commmit 一次。<a href="images/14-2.git-br-no-ff-merge.png"><em>例2</em></a></p>
  <hr>
  
  <h3>(15) git stash - 保存/恢复未提交的修改</h3>
  <h4>典型使用：</h4>
  <p><code>git stash</code> - 保存未提交的修改。<a href="images/15-1.git-stash.PNG"><em>例1</em></a></p>
  <p><code>git stash list</code> - 列出当前保存的记录。<a href="images/15-2.git-stash-list.PNG"><em>例2</em></a></p>
  <p><code>git stash pop &lt;stash@{n}&gt;</code> - 恢复保存的修改，并删除该条记录。<a href="images/15-3.git-stash-pop.PNG"><em>例3</em></a></p>
  <p><code>git stash apply &lt;stash@{n}&gt;</code> - 只恢复保存的修改，不删除记录。<a href="images/15-4.git-stash-apply.PNG"><em>例4</em></a></p>
  <p><code>git stash drop &lt;stash@{n}&gt;</code> - 删除记录。<a href="images/15-5.git-stash-drop.PNG"><em>例5</em></a></p>
  <hr>
  
  <h3>(16) git cherry-pick - 复制其他分支的修改（<em>只是复制某些修改，并不是合并分支</em>），避免重复劳动</h3>
  <hr>
  
  <h3>(17) <a href="images/17.git-rebase.PNG"><em>git rebase</em></a> - 把分叉的提交历史“整理”成一条直线</h3>
  <hr>
  
  <h3>(18) git mv - 移动/重命名文件(夹)</h3>
  <h4>典型使用：</h4>
  <p><code>git mv &lt;source&gt; &lt;destination&gt;</code> - 重命名文件(夹)。<a href="images/18.git-mv.PNG"><em>例1</em></a></p>
</body>
</html>